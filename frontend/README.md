# 股票交易模拟系统 - 前端

基于 Vue 3 + Element Plus 的股票交易模拟系统前端应用，提供现代化的用户界面和流畅的交互体验。

## 技术栈

- **框架**: Vue 3 (Composition API)
- **UI 库**: Element Plus
- **状态管理**: Vuex 4
- **路由**: Vue Router 4
- **HTTP 客户端**: Axios
- **图表库**: ECharts 5 + vue-echarts
- **构建工具**: Vue CLI 5
- **样式预处理器**: Sass

## 项目结构

```
src/
├── components/           # 公共组件
│   ├── KlineChart.vue   # K线图表组件
│   ├── MarketKlineChart.vue # 市场K线图组件
│   └── StockHoldersChart.vue # 股东持仓图组件
├── layout/              # 布局组件
│   ├── header/          # 顶部导航
│   ├── menu/           # 侧边菜单
│   └── index.vue       # 主布局
├── views/              # 页面组件
│   ├── index/          # 首页
│   ├── stock/          # 股票相关页面
│   │   ├── dashboard/  # 股票交易首页
│   │   ├── list/       # 股票列表
│   │   ├── detail/     # 股票详情
│   │   ├── trade/      # 交易页面
│   │   ├── account/    # 账户管理
│   │   ├── positions/  # 持仓管理
│   │   └── records/    # 交易记录
│   ├── sys/            # 系统管理
│   └── userCenter/     # 用户中心
├── store/              # Vuex状态管理
├── router/             # 路由配置
├── utils/              # 工具函数
└── api/                # API接口
```

## 核心功能模块

### 1. 股票交易模拟

- **股票交易首页**: 大盘指数展示、热门股票排行、市场概览
- **股票列表**: 支持搜索、筛选的完整 A 股列表
- **股票详情**: 个股 K 线图、技术指标、基本面信息
- **模拟交易**: 买入/卖出操作界面
- **账户管理**: 资金余额、总资产、盈亏统计
- **持仓管理**: 当前持仓、盈亏分析
- **交易记录**: 历史交易查询

### 2. 图表展示

- **K 线图**: 日 K 线、技术指标(MA、MACD、RSI)
- **实时图表**: 分时走势图
- **市场分析图**: 涨跌分布、资金流向
- **持仓分析图**: 持仓占比、盈亏分布

### 3. 权限管理

- **用户管理**: 用户信息维护
- **角色管理**: 角色权限配置
- **菜单管理**: 动态菜单权限控制

## 设计思路

### 组件化设计

采用 Vue 3 Composition API，将功能模块拆分为可复用的组件：

- **图表组件**: 封装 ECharts，支持多种股票图表类型
- **交易组件**: 模块化的买卖操作界面
- **数据展示组件**: 统一的数据表格和卡片样式

### 状态管理

使用 Vuex 进行全局状态管理：

- **用户状态**: 登录信息、权限数据
- **股票数据**: 实时行情、历史数据缓存
- **交易状态**: 账户信息、持仓数据

### 路由权限

基于 Vue Router 的动态路由：

- **权限路由**: 根据用户角色动态加载菜单
- **路由守卫**: 登录验证和权限检查
- **页面缓存**: 提升用户体验

## 安装和启动

### 环境要求

- Node.js 16+
- npm 或 yarn

### 安装依赖

```bash
cd frontend
npm install
```

### 环境配置

复制环境配置文件：

```bash
cp .env.example .env
```

编辑 `.env` 文件，配置后端 API 地址：

```
VUE_APP_BASE_API=http://localhost:8000
VUE_APP_BASE_WS=ws://localhost:8000
```

### 启动开发服务器

```bash
npm run serve
```

访问地址：http://localhost:8080

### 构建生产版本

```bash
npm run build
```

构建产物在 `dist/` 目录下。

## 主要页面功能

### 股票交易首页 (`/stock/dashboard`)

- 显示上证指数、深证成指、创业板指等主要指数
- 展示涨幅榜、跌幅榜、成交额排行
- 市场热点和资金流向分析
- 快速交易入口

### 股票列表 (`/stock/list`)

- 完整 A 股列表展示
- 支持按代码、名称搜索
- 实时价格和涨跌幅显示
- 点击进入个股详情页

### 股票详情 (`/stock/detail/:code`)

- 个股 K 线图表（日 K、周 K、月 K）
- 技术指标分析（MA、MACD、RSI、BOLL 等）
- 实时分时走势图
- 股票基本信息和财务数据
- 快速买入/卖出操作

### 模拟交易 (`/stock/trade`)

- 股票搜索和选择
- 买入/卖出操作界面
- 实时价格显示
- 手续费计算
- 交易确认

### 账户管理 (`/stock/account`)

- 资金余额查询
- 总资产统计
- 盈亏分析
- 资金变动记录

### 持仓管理 (`/stock/positions`)

- 当前持仓列表
- 持仓成本和市值
- 盈亏金额和比例
- 持仓操作（卖出）

## 接口交互

### API 请求封装

使用 Axios 进行 HTTP 请求，统一处理：

- 请求拦截器：添加 JWT Token
- 响应拦截器：错误处理和登录状态检查
- 请求重试：网络异常自动重试

### 实时数据更新

- 定时轮询：股价数据定时刷新
- 缓存策略：合理使用本地缓存减少请求
- 数据同步：确保界面数据实时性
